{"version":3,"file":"js/app.16c81c7c.js","mappings":"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","sources":["webpack://browser-demo/./src/App.vue","webpack://browser-demo/./src/components/Web-Helper.vue","webpack://browser-demo/./src/components/FloatingButton/index.vue","webpack://browser-demo/src/components/FloatingButton/index.vue","webpack://browser-demo/./src/components/FloatingButton/index.vue?4d8a","webpack://browser-demo/./src/components/FloatingButton/index.vue?ffe5","webpack://browser-demo/./src/components/Theme/index.vue","webpack://browser-demo/./src/services/fetchGMRequest.js","webpack://browser-demo/./src/services/theme.js","webpack://browser-demo/./src/services/urlTheme.js","webpack://browser-demo/src/components/Theme/index.vue","webpack://browser-demo/./src/components/Theme/index.vue?30fb","webpack://browser-demo/./src/components/Theme/index.vue?223a","webpack://browser-demo/./src/components/Keyword/index.vue","webpack://browser-demo/./src/services/keyword.js","webpack://browser-demo/./src/services/urlKeyword.js","webpack://browser-demo/src/components/Keyword/index.vue","webpack://browser-demo/./src/components/Keyword/index.vue?dddc","webpack://browser-demo/./src/components/Keyword/index.vue?b55b","webpack://browser-demo/./src/components/Note/index.vue","webpack://browser-demo/./src/services/note.js","webpack://browser-demo/src/components/Note/index.vue","webpack://browser-demo/./src/components/Note/index.vue?f59f","webpack://browser-demo/./src/components/Note/index.vue?9250","webpack://browser-demo/./src/services/url.js","webpack://browser-demo/src/components/Web-Helper.vue","webpack://browser-demo/./src/components/Web-Helper.vue?b036","webpack://browser-demo/./src/components/Web-Helper.vue?0cbe","webpack://browser-demo/src/App.vue","webpack://browser-demo/./src/App.vue?729c","webpack://browser-demo/./src/App.vue?5c36","webpack://browser-demo/./src/main.js","webpack://browser-demo/webpack/bootstrap","webpack://browser-demo/webpack/runtime/chunk loaded","webpack://browser-demo/webpack/runtime/compat get default export","webpack://browser-demo/webpack/runtime/define property getters","webpack://browser-demo/webpack/runtime/global","webpack://browser-demo/webpack/runtime/hasOwnProperty shorthand","webpack://browser-demo/webpack/runtime/jsonp chunk loading","webpack://browser-demo/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('WebHelper',{ref:\"WebH\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"fixed bottom-4 right-4 z-50 max-w-sm\"},[_c('FloatingButton',{on:{\"click\":_vm.togglePanel}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"mt-2 bg-white rounded-lg shadow-xl border p-4 space-y-4 min-w-96\",staticStyle:{\"max-height\":\"80vh\",\"overflow-y\":\"auto\"}},[_c('label',{staticClass:\"text-xl font-bold text-gray-800 flex items-center\"},[_c('svg',{staticClass:\"mr-2\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('path',{attrs:{\"d\":\"M12 20h9\"}}),_c('path',{attrs:{\"d\":\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"}})]),_vm._v(\" 网页注解工具 \")]),_c('Theme',{attrs:{\"url_id\":_vm.url.id},on:{\"update:themes\":_vm.updateSelectedThemes}}),_c('Keyword',{attrs:{\"url_id\":_vm.url.id},on:{\"update:keywords\":_vm.updateSelectedKeywords}}),_c('Note',{attrs:{\"url_id\":_vm.url.id}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-all\",on:{\"click\":_vm.handleClick}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('path',{attrs:{\"d\":\"M12 20h9\"}}),_c('path',{attrs:{\"d\":\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <button\r\n        @click=\"handleClick\"\r\n        class=\"bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-all\"\r\n    >\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n        <path d=\"M12 20h9\"></path>\r\n        <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\r\n      </svg>\r\n    </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FloatingButton',\r\n  methods: {\r\n    handleClick() {\r\n      // Emit an 'click' event when the button is clicked\r\n      this.$emit('click');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Scoped styles ensure that styles do not bleed into other components */\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=35078ecb&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=35078ecb&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35078ecb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative\"},[_c('label',{staticClass:\"block text-sm font-medium text-gray-700 flex items-center\"},[_c('svg',{staticClass:\"mr-2 text-blue-500\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('path',{attrs:{\"d\":\"M2 3l20 0\"}}),_c('path',{attrs:{\"d\":\"M5 3v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-16\"}}),_c('path',{attrs:{\"d\":\"M9 7l6 0\"}}),_c('path',{attrs:{\"d\":\"M9 11l6 0\"}})]),_vm._v(\" \"+_vm._s(_vm.label)+\" \")]),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 flex flex-wrap items-center min-h-[42px]\"},[_vm._l((_vm.themes),function(theme,index){return _c('span',{key:theme.id,staticClass:\"bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-1 flex items-center text-sm\"},[_vm._v(\" \"+_vm._s(theme.name)+\" \"),_c('button',{staticClass:\"ml-2 text-red-500 hover:text-red-700\",on:{\"click\":function($event){return _vm.removeTheme(index)}}},[_vm._v(\" × \")])])}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],ref:\"ThemeInput\",staticClass:\"flex-grow outline-none ml-1\",attrs:{\"type\":\"text\",\"placeholder\":\"输入主题并按回车添加\"},domProps:{\"value\":(_vm.inputValue)},on:{\"focus\":_vm.onfocus,\"input\":[function($event){if($event.target.composing)return;_vm.inputValue=$event.target.value},_vm.onInput],\"blur\":_vm.onBlur,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return _vm.addTheme.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"]))return null;return _vm.handleDeleteKey.apply(null, arguments)}]}})],2),(_vm.showSuggestions)?_c('ul',{staticClass:\"absolute bg-white border border-gray-300 rounded-md shadow-lg w-full mt-1 z-10\"},_vm._l((_vm.suggestions),function(suggestion){return _c('li',{key:suggestion.id,staticClass:\"p-2 hover:bg-blue-100 cursor-pointer\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.selectSuggestion(suggestion)}}},[_vm._v(\" \"+_vm._s(suggestion.name)+\" \")])}),0):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const timer = setInterval(findGM_HTTPRequest, 100)\r\nlet shouldReject =false;\r\nlet request = {\r\n\r\n};\r\n\r\nconst GetGMRequest = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if(shouldReject){\r\n      reject(new Error(\"gmXmlHttpRequest not found\"));\r\n    }\r\n    if(request.gmXmlHttpRequest){\r\n      resolve(request.gmXmlHttpRequest)\r\n    }\r\n    const timer = setInterval(() => {\r\n      if (Window.gmXmlHttpRequest) {\r\n        request.gmXmlHttpRequest = Window.gmXmlHttpRequest;\r\n        clearInterval(timer);\r\n        resolve(request.gmXmlHttpRequest);\r\n      }\r\n    }, 100);\r\n    // 设置超时以防止无限等待\r\n    // setTimeout(() => {\r\n    //   clearInterval(timer);\r\n    //   shouldReject = true;\r\n    //   reject(new Error(\"gmXmlHttpRequest not found\"));\r\n    // }, 5000); // 5 秒超时\r\n  });\r\n};\r\nconst baseURL = \"http://localhost:3000/api\";\r\nexport { GetGMRequest, request, baseURL };\r\n\r\nfunction findGM_HTTPRequest(){\r\n  // if(Window){\r\n  //   console.log(Window)\r\n  // }else{\r\n  //   return;\r\n  // }\r\n  if(Window.gmXmlHttpRequest){\r\n    request.gmXmlHttpRequest = Window.gmXmlHttpRequest\r\n    clearTimeout(timer);\r\n  }\r\n}\r\n// const itimer = setInterval(()=>{\r\n//   console.log(\"in modul gmXmlHttpRequest\", request.gmXmlHttpRequest)\r\n//   if(request.gmXmlHttpRequest){\r\n//     clearInterval(itimer)\r\n//   }},\r\n//   1000)\r\n\r\n// module.exports = request;\r\n","import {GetGMRequest, baseURL} from \"./fetchGMRequest.js\"\r\n\r\nexport async function addTheme(theme){\r\n  console.log(\"in add theme\",theme)\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"POST\",\r\n    url: `${baseURL}/theme`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data:JSON.stringify({\r\n      theme\r\n    }),\r\n\r\n    // headers: {\r\n    //   \"Content-Type\": \"text/plain\"\r\n    // },\r\n    // data: `{\"theme\":\"${theme}\"}`\r\n\r\n    // headers: {\r\n    //   \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n    // },\r\n    // data: `theme=${theme}\"}`\r\n\r\n  })\r\n}\r\n\r\nexport async function getAllThemes(){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"GET\",\r\n    url: `${baseURL}/theme`,\r\n  })\r\n}","import {baseURL, GetGMRequest} from \"@/services/fetchGMRequest\";\r\n\r\n\r\nexport async function updateSelectedThemes(url, themes){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"PUT\",\r\n    url: `${baseURL}/url_theme`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data:JSON.stringify({\r\n      url,\r\n      themes\r\n    })\r\n  })\r\n}\r\n\r\nexport async function initThemes(id){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"GET\",\r\n    url: `${baseURL}/url_theme?url_id=${id}`,\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"relative\">\r\n    <label class=\"block text-sm font-medium text-gray-700 flex items-center\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"mr-2 text-blue-500\">\r\n        <path d=\"M2 3l20 0\"></path>\r\n        <path d=\"M5 3v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-16\"></path>\r\n        <path d=\"M9 7l6 0\"></path>\r\n        <path d=\"M9 11l6 0\"></path>\r\n      </svg>\r\n      {{ label }}\r\n    </label>\r\n    <div class=\"relative\">\r\n      <div\r\n          class=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 flex flex-wrap items-center min-h-[42px]\"\r\n      >\r\n        <span\r\n            v-for=\"(theme, index) in themes\"\r\n            :key=\"theme.id\"\r\n            class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-1 flex items-center text-sm\"\r\n        >\r\n          {{ theme.name }}\r\n          <button\r\n              @click=\"removeTheme(index)\"\r\n              class=\"ml-2 text-red-500 hover:text-red-700\"\r\n          >\r\n            ×\r\n          </button>\r\n        </span>\r\n        <input\r\n            ref=\"ThemeInput\"\r\n            type=\"text\"\r\n            v-model=\"inputValue\"\r\n            @focus=\"onfocus\"\r\n            @input=\"onInput\"\r\n            @blur=\"onBlur\"\r\n            @keydown.enter.prevent=\"addTheme\"\r\n            @keydown.delete=\"handleDeleteKey\"\r\n            placeholder=\"输入主题并按回车添加\"\r\n            class=\"flex-grow outline-none ml-1\"\r\n        />\r\n      </div>\r\n      <ul\r\n          v-if=\"showSuggestions\"\r\n          class=\"absolute bg-white border border-gray-300 rounded-md shadow-lg w-full mt-1 z-10\"\r\n      >\r\n        <li\r\n            v-for=\"suggestion in suggestions\"\r\n            :key=\"suggestion.id\"\r\n            @mousedown.prevent=\"selectSuggestion(suggestion)\"\r\n            class=\"p-2 hover:bg-blue-100 cursor-pointer\"\r\n        >\r\n          {{ suggestion.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllThemes, addTheme} from \"@/services/theme\";\r\nimport {initThemes} from \"@/services/urlTheme\";\r\n\r\nexport default {\r\n  name: 'ThemesInput',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '关键词',\r\n    },\r\n    debounceTime: {\r\n      type: Number,\r\n      default: 300,\r\n    },\r\n    url_id: {\r\n      type: Number,\r\n      default: -1, // 正确设置默认值为 null\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    url_id: {\r\n      handler(newVal) {\r\n        if (newVal !== -1) {\r\n          this.init();\r\n        }\r\n      },\r\n      immediate: true // 立即执行，确保初始值也被处理\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      themes: [],\r\n      inputValue: '',\r\n      suggestions: [],\r\n      allthemes: [],\r\n      showSuggestions: false,\r\n      debounceTimer: null,\r\n    };\r\n  },\r\n  async created() {\r\n    this.updateAllThemes();\r\n  },\r\n  methods: {\r\n    async init(){\r\n      this.themes = await initThemes(this.url_id);\r\n    },\r\n    async updateAllThemes(){\r\n      this.allthemes = await getAllThemes();\r\n    },\r\n\r\n    /**\r\n     * 如果与已选关键词重复则忽略\r\n     * 如果是备选则添加并更新\r\n     * 如果是新的则增添\r\n     */\r\n    async addTheme() {\r\n      const trimmedValue = this.inputValue.trim();\r\n      if (trimmedValue) {\r\n        // console.log(this.themes,trimmedValue);\r\n        // 查找匹配的关键词对象\r\n        const matchedTheme = this.allthemes.find(\r\n            theme => theme.name === trimmedValue\r\n        );\r\n        if(matchedTheme && this.themes.some(k => k.id === matchedTheme.id)){\r\n          return;\r\n        }\r\n        if (matchedTheme) {\r\n          this.themes.push(matchedTheme);\r\n          this.inputValue = '';\r\n        }\r\n        else{\r\n          // console.log(\"add unexisting themes\",);\r\n          const res = await addTheme(trimmedValue)\r\n          this.themes.push(res[0]);\r\n          this.inputValue = '';\r\n          await this.updateAllThemes();\r\n        }\r\n        this.$emit('update:themes', this.themes);\r\n\r\n        // await updateSelectedTheme(window.location.href, this.themes);\r\n      }\r\n    },\r\n    removeTheme(index) {\r\n      this.themes.splice(index, 1);\r\n      this.$emit('update:themes', this.themes);\r\n    },\r\n    handleDeleteKey() {\r\n      // 如果输入为空且按下删除键，则删除最后一个关键词\r\n      if (this.inputValue === ''\r\n          && this.themes.length > 0) {\r\n        this.themes.pop();\r\n        this.$emit('update:themes', this.themes);\r\n      }\r\n    },\r\n    onInput() {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => {\r\n        this.fetchSuggestions(this.inputValue);\r\n      }, this.debounceTime);\r\n    },\r\n    onfocus() {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => {\r\n        this.fetchSuggestions(this.inputValue);\r\n      }, this.debounceTime);\r\n    },\r\n    onBlur() {\r\n      // 延迟隐藏，以便能够触发选择事件\r\n      setTimeout(() => {\r\n        this.showSuggestions = false;\r\n      }, 200);\r\n    },\r\n    fetchSuggestions(query) {\r\n      if (!query) {\r\n        this.suggestions = this.allthemes.filter(\r\n            theme => !this.themes.some(k => k.id === theme.id)\r\n        );\r\n        this.showSuggestions = true;\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.suggestions = this.allthemes.filter(\r\n            theme =>\r\n                theme.name.includes(query) &&\r\n                !this.themes.some(k => k.id === theme.id)\r\n        );\r\n        this.showSuggestions = this.suggestions.length > 0;\r\n      } catch (error) {\r\n        console.error('Error fetching suggestions:', error);\r\n      }\r\n    },\r\n    selectSuggestion(suggestion) {\r\n      this.inputValue = suggestion.name;\r\n      this.addTheme(); // 直接添加选中的建议\r\n      this.suggestions = [];\r\n      this.showSuggestions = false;\r\n      this.$refs.ThemeInput.focus(); // 保持输入框焦点\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fe23ce80\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative\"},[_c('label',{staticClass:\"block text-sm font-medium text-gray-700 flex items-center\"},[_c('svg',{staticClass:\"mr-2 text-green-500\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('path',{attrs:{\"d\":\"M7.5 3.5l0 8l5 5l5 -5l0 -8z\"}}),_c('path',{attrs:{\"d\":\"M3 7l4.5 0\"}}),_c('path',{attrs:{\"d\":\"M19 7l2 0\"}})]),_vm._v(\" \"+_vm._s(_vm.label)+\" \")]),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 flex flex-wrap items-center min-h-[42px]\"},[_vm._l((_vm.keywords),function(keyword,index){return _c('span',{key:keyword.id,staticClass:\"bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-1 flex items-center text-sm\"},[_vm._v(\" \"+_vm._s(keyword.name)+\" \"),_c('button',{staticClass:\"ml-2 text-red-500 hover:text-red-700\",on:{\"click\":function($event){return _vm.removeKeyword(index)}}},[_vm._v(\" × \")])])}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],ref:\"keywordInput\",staticClass:\"flex-grow outline-none ml-1\",attrs:{\"type\":\"text\",\"placeholder\":\"输入关键词并按回车添加\"},domProps:{\"value\":(_vm.inputValue)},on:{\"focus\":_vm.onfocus,\"input\":[function($event){if($event.target.composing)return;_vm.inputValue=$event.target.value},_vm.onInput],\"blur\":_vm.onBlur,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return _vm.addKeyword.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"]))return null;return _vm.handleDeleteKey.apply(null, arguments)}]}})],2),(_vm.showSuggestions)?_c('ul',{staticClass:\"absolute bg-white border border-gray-300 rounded-md shadow-lg w-full mt-1 z-10\"},_vm._l((_vm.suggestions),function(suggestion){return _c('li',{key:suggestion.id,staticClass:\"p-2 hover:bg-blue-100 cursor-pointer\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.selectSuggestion(suggestion)}}},[_vm._v(\" \"+_vm._s(suggestion.name)+\" \")])}),0):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {GetGMRequest, baseURL} from \"./fetchGMRequest.js\"\r\n\r\nexport async function addKeyword(keyword){\r\n  console.log(\"in add keyword\",keyword)\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"POST\",\r\n    url: `${baseURL}/keyword`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data:JSON.stringify({\r\n      keyword\r\n    }),\r\n\r\n    // headers: {\r\n    //   \"Content-Type\": \"text/plain\"\r\n    // },\r\n    // data: `{\"keyword\":\"${keyword}\"}`\r\n\r\n    // headers: {\r\n    //   \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n    // },\r\n    // data: `keyword=${keyword}\"}`\r\n\r\n  })\r\n}\r\n\r\nexport async function getAllKeywords(){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"GET\",\r\n    url: `${baseURL}/keyword`,\r\n  })\r\n}\r\n\r\n// export async function deleteKeyword(url, keyword){\r\n//   const gmXmlHttpRequest = await GetGMRequest();\r\n//   return gmXmlHttpRequest({\r\n//     method: \"DELETE\",\r\n//     url: `${baseURL}/keyword`,\r\n//     body:{\r\n//       url,\r\n//       keyword\r\n//     }\r\n//   })\r\n// }\r\n\r\n// module.exports = {\r\n//   addKeyword,\r\n//   chooseKeyword,\r\n//   deleteKeyword,\r\n// }\r\n\r\n","import {baseURL, GetGMRequest} from \"@/services/fetchGMRequest\";\r\n\r\n\r\nexport async function updateSelectedKeywords(url, keywords){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"PUT\",\r\n    url: `${baseURL}/url_keyword`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data:JSON.stringify({\r\n      url,\r\n      keywords\r\n    })\r\n  })\r\n}\r\n\r\nexport async function initKeywords(id){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"GET\",\r\n    url: `${baseURL}/url_keyword?url_id=${id}`,\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"relative\">\r\n    <label class=\"block text-sm font-medium text-gray-700 flex items-center\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"mr-2 text-green-500\">\r\n        <path d=\"M7.5 3.5l0 8l5 5l5 -5l0 -8z\"></path>\r\n        <path d=\"M3 7l4.5 0\"></path>\r\n        <path d=\"M19 7l2 0\"></path>\r\n      </svg>\r\n      {{ label }}\r\n    </label>\r\n    <div class=\"relative\">\r\n      <div\r\n          class=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 flex flex-wrap items-center min-h-[42px]\"\r\n      >\r\n        <span\r\n            v-for=\"(keyword, index) in keywords\"\r\n            :key=\"keyword.id\"\r\n            class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-1 flex items-center text-sm\"\r\n        >\r\n          {{ keyword.name }}\r\n          <button\r\n              @click=\"removeKeyword(index)\"\r\n              class=\"ml-2 text-red-500 hover:text-red-700\"\r\n          >\r\n            ×\r\n          </button>\r\n        </span>\r\n        <input\r\n            ref=\"keywordInput\"\r\n            type=\"text\"\r\n            v-model=\"inputValue\"\r\n            @focus=\"onfocus\"\r\n            @input=\"onInput\"\r\n            @blur=\"onBlur\"\r\n            @keydown.enter.prevent=\"addKeyword\"\r\n            @keydown.delete=\"handleDeleteKey\"\r\n            placeholder=\"输入关键词并按回车添加\"\r\n            class=\"flex-grow outline-none ml-1\"\r\n        />\r\n      </div>\r\n      <ul\r\n          v-if=\"showSuggestions\"\r\n          class=\"absolute bg-white border border-gray-300 rounded-md shadow-lg w-full mt-1 z-10\"\r\n      >\r\n        <li\r\n            v-for=\"suggestion in suggestions\"\r\n            :key=\"suggestion.id\"\r\n            @mousedown.prevent=\"selectSuggestion(suggestion)\"\r\n            class=\"p-2 hover:bg-blue-100 cursor-pointer\"\r\n        >\r\n          {{ suggestion.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllKeywords, addKeyword} from \"@/services/keyword\";\r\nimport {initKeywords} from \"@/services/urlKeyword\";\r\n\r\nexport default {\r\n  name: 'KeywordsInput',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '关键词',\r\n    },\r\n    debounceTime: {\r\n      type: Number,\r\n      default: 300,\r\n    },\r\n    url_id: {\r\n      type: Number,\r\n      default: -1, // 正确设置默认值为 null\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    url_id: {\r\n      handler(newVal) {\r\n        if (newVal !== null) {\r\n          this.init();\r\n        }\r\n      },\r\n      immediate: true // 立即执行，确保初始值也被处理\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      keywords: [],\r\n      inputValue: '',\r\n      suggestions: [],\r\n      allkeywords: [],\r\n      showSuggestions: false,\r\n      debounceTimer: null,\r\n    };\r\n  },\r\n  async created() {\r\n    this.updateAllKeywords();\r\n  },\r\n  methods: {\r\n    async init(getKeywordsTimer){\r\n      clearInterval(getKeywordsTimer);\r\n      this.keywords = await initKeywords(this.url_id);\r\n      // console.log(\"initkeywords:\", this.url_id, this.keywords)\r\n    },\r\n    async updateAllKeywords(){\r\n      this.allkeywords = await getAllKeywords();\r\n    },\r\n\r\n    /**\r\n     * 如果与已选关键词重复则忽略\r\n     * 如果是备选则添加并更新\r\n     * 如果是新的则增添\r\n     */\r\n    async addKeyword() {\r\n      const trimmedValue = this.inputValue.trim();\r\n      if (trimmedValue) {\r\n        // console.log(this.keywords,trimmedValue);\r\n        // 查找匹配的关键词对象\r\n        const matchedKeyword = this.allkeywords.find(\r\n            keyword => keyword.name === trimmedValue\r\n        );\r\n        if(matchedKeyword && this.keywords.some(k => k.id === matchedKeyword.id)){\r\n          return;\r\n        }\r\n        if (matchedKeyword) {\r\n          this.keywords.push(matchedKeyword);\r\n          this.inputValue = '';\r\n        }\r\n        else{\r\n          // console.log(\"add unexisting keywords\",);\r\n          const res = await addKeyword(trimmedValue)\r\n          this.keywords.push(res[0]);\r\n          this.inputValue = '';\r\n          await this.updateAllKeywords();\r\n        }\r\n        this.$emit('update:keywords', this.keywords);\r\n\r\n        // await updateSelectedKeyword(window.location.href, this.keywords);\r\n      }\r\n    },\r\n    removeKeyword(index) {\r\n      this.keywords.splice(index, 1);\r\n      this.$emit('update:keywords', this.keywords);\r\n    },\r\n    handleDeleteKey() {\r\n      // 如果输入为空且按下删除键，则删除最后一个关键词\r\n      if (this.inputValue === ''\r\n          && this.keywords.length > 0) {\r\n        this.keywords.pop();\r\n        this.$emit('update:keywords', this.keywords);\r\n      }\r\n    },\r\n    onInput() {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => {\r\n        this.fetchSuggestions(this.inputValue);\r\n      }, this.debounceTime);\r\n    },\r\n    onfocus() {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => {\r\n        this.fetchSuggestions(this.inputValue);\r\n      }, this.debounceTime);\r\n    },\r\n    onBlur() {\r\n      // 延迟隐藏，以便能够触发选择事件\r\n      setTimeout(() => {\r\n        this.showSuggestions = false;\r\n      }, 200);\r\n    },\r\n    fetchSuggestions(query) {\r\n      if (!query) {\r\n        this.suggestions = this.allkeywords.filter(\r\n            keyword => !this.keywords.some(k => k.id === keyword.id)\r\n        );\r\n        this.showSuggestions = true;\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.suggestions = this.allkeywords.filter(\r\n            keyword =>\r\n                keyword.name.includes(query) &&\r\n                !this.keywords.some(k => k.id === keyword.id)\r\n        );\r\n        this.showSuggestions = this.suggestions.length > 0;\r\n      } catch (error) {\r\n        console.error('Error fetching suggestions:', error);\r\n      }\r\n    },\r\n    selectSuggestion(suggestion) {\r\n      this.inputValue = suggestion.name;\r\n      this.addKeyword(); // 直接添加选中的建议\r\n      this.suggestions = [];\r\n      this.showSuggestions = false;\r\n      this.$refs.keywordInput.focus(); // 保持输入框焦点\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=074b02e6\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative\"},[_c('label',{staticClass:\"block mb-4 text-sm font-medium text-gray-700 flex items-center\"},[_c('svg',{staticClass:\"mr-2 text-purple-500\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('path',{attrs:{\"d\":\"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4\"}}),_c('line',{attrs:{\"x1\":\"14.5\",\"y1\":\"5.5\",\"x2\":\"18.5\",\"y2\":\"9.5\"}})]),_vm._v(\" 笔记 \")]),_c('div',{staticClass:\"flex space-x-2 mb-4\"},_vm._l((_vm.noteTypes),function(type){return _c('button',{key:type,class:[\n            'px-3 py-1 rounded-md text-sm transition-all flex items-center',\n            {\n              'thinking': 'bg-blue-500 text-white',\n              'comment': 'bg-green-500 text-white',\n              'summary': 'bg-purple-500 text-white',\n              'question': 'bg-orange-500 text-white'\n            }[type],\n            _vm.currentNoteType === type ? 'opacity-100' : 'opacity-60'\n          ],on:{\"click\":function($event){_vm.currentNoteType = type}}},[_vm._v(\" \"+_vm._s(_vm.getNoteTypeLabel(type))+\" \")])}),0),_c('div',[_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"block text-sm font-medium mb-1\"},[_vm._v(\"笔记内容\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentNote.content),expression:\"currentNote.content\"}],staticClass:\"w-full border rounded-md p-2 min-h-[100px]\",staticStyle:{\"resize\":\"none\"},attrs:{\"placeholder\":`输入${_vm.getNoteTypeLabel(_vm.currentNoteType)}笔记`},domProps:{\"value\":(_vm.currentNote.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.currentNote, \"content\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"block text-sm font-medium mb-1\"},[_vm._v(\"引用原文（可选）\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentNote.quote),expression:\"currentNote.quote\"}],staticClass:\"w-full border rounded-md p-2 min-h-[80px]\",staticStyle:{\"resize\":\"none\"},attrs:{\"placeholder\":\"输入原文引用\"},domProps:{\"value\":(_vm.currentNote.quote)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.currentNote, \"quote\", $event.target.value)}}})])]),_c('div',{staticClass:\"flex space-x-2\"},[_c('button',{staticClass:\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\",on:{\"click\":_vm.saveNote}},[_vm._v(\" 保存笔记 \")]),(_vm.editingIndex !== -1)?_c('button',{staticClass:\"bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300\",on:{\"click\":_vm.cancelEdit}},[_vm._v(\" 取消编辑 \")]):_vm._e()]),_c('div',{staticClass:\"mt-4\"},_vm._l((_vm.savedNotes),function(note,index){return _c('div',{key:index,staticClass:\"mb-2 p-2 rounded-md relative\",class:{\n            'thinking': 'bg-blue-50 border-blue-200',\n            'comment': 'bg-green-50 border-green-200',\n            'summary': 'bg-purple-50 border-purple-200',\n            'question': 'bg-orange-50 border-orange-200'\n          }[note.type]},[_c('div',{staticClass:\"absolute top-2 right-2 px-2 py-1 rounded text-xs text-white\",class:{\n              'thinking': 'bg-blue-500',\n              'comment': 'bg-green-500',\n              'summary': 'bg-purple-500',\n              'question': 'bg-orange-500'\n            }[note.type]},[_vm._v(\" \"+_vm._s(_vm.getNoteTypeLabel(note.type))+\" \")]),_c('div',{staticClass:\"mb-2\"},[_c('strong',[_vm._v(\"笔记：\")]),_vm._v(\" \"+_vm._s(note.content)+\" \")]),(note.quote)?_c('div',{staticClass:\"text-gray-600 italic text-sm mb-2 border-l-4 pl-2\",class:{\n              'thinking': 'border-blue-300',\n              'comment': 'border-green-300',\n              'summary': 'border-purple-300',\n              'question': 'border-orange-300'\n            }[note.type]},[_vm._v(\" 引用：\"+_vm._s(note.quote)+\" \")]):_vm._e(),_c('div',{staticClass:\"flex space-x-2\"},[_c('button',{staticClass:\"text-blue-500 hover:text-blue-700 text-sm\",on:{\"click\":function($event){return _vm.editNote(index)}}},[_vm._v(\" 编辑 \")]),_c('button',{staticClass:\"text-red-500 hover:text-red-700 text-sm\",on:{\"click\":function($event){return _vm.removeNote(index)}}},[_vm._v(\" 删除 \")]),(index > 0)?_c('button',{staticClass:\"text-gray-500 hover:text-gray-700 text-sm\",on:{\"click\":function($event){return _vm.moveNoteUp(index)}}},[_vm._v(\" 上移 \")]):_vm._e(),(index < _vm.savedNotes.length - 1)?_c('button',{staticClass:\"text-gray-500 hover:text-gray-700 text-sm\",on:{\"click\":function($event){return _vm.moveNoteDown(index)}}},[_vm._v(\" 下移 \")]):_vm._e()])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {GetGMRequest, baseURL} from \"./fetchGMRequest.js\"\r\n\r\nexport async function saveNote(url, notes){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"POST\",\r\n    url: `${baseURL}/note`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: JSON.stringify({\r\n      notes,\r\n      url_id: url\r\n    }),\r\n  })\r\n}\r\nexport async function getNotes(url_id){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"GET\",\r\n    url: `${baseURL}/note?url_id=${url_id}`\r\n  })\r\n}\r\nexport async function delete_note(note){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"DELETE\",\r\n    url: `${baseURL}/note`,\r\n    data:{\r\n      note\r\n    }\r\n  })\r\n}\r\n\r\nexport async function updateNote(note){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"PUT\",\r\n    url: `${baseURL}/note`,\r\n    data:{\r\n      note\r\n    }\r\n  })\r\n}\r\n\r\nexport async function changeNoteOrder(note_orders){\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"PUT\",\r\n    url: `${baseURL}/note`,\r\n    body:{\r\n      note_orders\r\n    }\r\n  })\r\n}","<template>\r\n  <div class=\"relative\">\r\n            <label class=\"block mb-4 text-sm font-medium text-gray-700 flex items-center\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"mr-2 text-purple-500\">\r\n                <path d=\"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4\"></path>\r\n                <line x1=\"14.5\" y1=\"5.5\" x2=\"18.5\" y2=\"9.5\"></line>\r\n              </svg>\r\n              笔记\r\n            </label>\r\n      <!-- 笔记类型切换 -->\r\n      <div class=\"flex space-x-2 mb-4\">\r\n        <button\r\n            v-for=\"type in noteTypes\"\r\n            :key=\"type\"\r\n            @click=\"currentNoteType = type\"\r\n            :class=\"[\r\n            'px-3 py-1 rounded-md text-sm transition-all flex items-center',\r\n            {\r\n              'thinking': 'bg-blue-500 text-white',\r\n              'comment': 'bg-green-500 text-white',\r\n              'summary': 'bg-purple-500 text-white',\r\n              'question': 'bg-orange-500 text-white'\r\n            }[type],\r\n            currentNoteType === type ? 'opacity-100' : 'opacity-60'\r\n          ]\"\r\n        >\r\n          {{ getNoteTypeLabel(type) }}\r\n        </button>\r\n      </div>\r\n\r\n      <!-- 笔记输入区域 -->\r\n      <div>\r\n        <div class=\"mb-2 \">\r\n          <label class=\"block text-sm font-medium mb-1\">笔记内容</label>\r\n          <textarea\r\n              v-model=\"currentNote.content\"\r\n              :placeholder=\"`输入${getNoteTypeLabel(currentNoteType)}笔记`\"\r\n              class=\"w-full border rounded-md p-2 min-h-[100px]\"\r\n              style=\"resize: none\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"mb-2\">\r\n          <label class=\"block text-sm font-medium mb-1\">引用原文（可选）</label>\r\n          <textarea\r\n              v-model=\"currentNote.quote\"\r\n              placeholder=\"输入原文引用\"\r\n              class=\"w-full border rounded-md p-2 min-h-[80px]\"\r\n              style=\"resize: none\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 操作区域 -->\r\n      <div class=\"flex space-x-2\">\r\n        <button\r\n            @click=\"saveNote\"\r\n            class=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\r\n        >\r\n          保存笔记\r\n        </button>\r\n        <button\r\n            v-if=\"editingIndex !== -1\"\r\n            @click=\"cancelEdit\"\r\n            class=\"bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300\"\r\n        >\r\n          取消编辑\r\n        </button>\r\n      </div>\r\n\r\n      <!-- 已保存笔记列表 -->\r\n      <div class=\"mt-4\">\r\n<!--        max-h-96 overflow-y-scroll\">-->\r\n        <div\r\n            v-for=\"(note, index) in savedNotes\"\r\n            :key=\"index\"\r\n            class=\"mb-2 p-2 rounded-md relative\"\r\n            :class=\"{\r\n            'thinking': 'bg-blue-50 border-blue-200',\r\n            'comment': 'bg-green-50 border-green-200',\r\n            'summary': 'bg-purple-50 border-purple-200',\r\n            'question': 'bg-orange-50 border-orange-200'\r\n          }[note.type]\"\r\n        >\r\n          <!-- 笔记类型标签 -->\r\n          <div\r\n              class=\"absolute top-2 right-2 px-2 py-1 rounded text-xs text-white\"\r\n              :class=\"{\r\n              'thinking': 'bg-blue-500',\r\n              'comment': 'bg-green-500',\r\n              'summary': 'bg-purple-500',\r\n              'question': 'bg-orange-500'\r\n            }[note.type]\"\r\n          >\r\n            {{ getNoteTypeLabel(note.type) }}\r\n          </div>\r\n\r\n          <!-- 笔记内容 -->\r\n          <div class=\"mb-2\">\r\n            <strong>笔记：</strong>\r\n            {{ note.content }}\r\n          </div>\r\n\r\n          <!-- 引用原文 -->\r\n          <div v-if=\"note.quote\" class=\"text-gray-600 italic text-sm mb-2 border-l-4 pl-2\"\r\n               :class=\"{\r\n              'thinking': 'border-blue-300',\r\n              'comment': 'border-green-300',\r\n              'summary': 'border-purple-300',\r\n              'question': 'border-orange-300'\r\n            }[note.type]\"\r\n          >\r\n            引用：{{ note.quote }}\r\n          </div>\r\n\r\n          <!-- 操作按钮 -->\r\n          <div class=\"flex space-x-2\">\r\n            <button\r\n                @click=\"editNote(index)\"\r\n                class=\"text-blue-500 hover:text-blue-700 text-sm\"\r\n            >\r\n              编辑\r\n            </button>\r\n            <button\r\n                @click=\"removeNote(index)\"\r\n                class=\"text-red-500 hover:text-red-700 text-sm\"\r\n            >\r\n              删除\r\n            </button>\r\n            <button\r\n                @click=\"moveNoteUp(index)\"\r\n                class=\"text-gray-500 hover:text-gray-700 text-sm\"\r\n                v-if=\"index > 0\"\r\n            >\r\n              上移\r\n            </button>\r\n            <button\r\n                @click=\"moveNoteDown(index)\"\r\n                class=\"text-gray-500 hover:text-gray-700 text-sm\"\r\n                v-if=\"index < savedNotes.length - 1\"\r\n            >\r\n              下移\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {getNotes, saveNote} from \"@/services/note\";\r\n\r\nexport default {\r\n  props: {\r\n    url_id: {\r\n      type: Number,\r\n      default: -1, // 正确设置默认值为 null\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    url_id: {\r\n      handler(newVal) {\r\n        if (newVal !== null) {\r\n          this.init();\r\n        }\r\n      },\r\n      immediate: true // 立即执行，确保初始值也被处理\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentNoteType: 'thinking',\r\n      noteTypes: ['thinking', 'comment', 'summary', 'question'],\r\n      savedNotes: [],\r\n      editingIndex: -1,\r\n      currentNote: {\r\n        type: 'thinking',\r\n        content: '',\r\n        quote: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async init(){\r\n      this.savedNotes = await getNotes(this.url_id);\r\n      this.savedNotes.sort((a,b)=>a.show_order - b.show_order)\r\n      Window.note = this;\r\n    },\r\n    getNoteTypeLabel(type) {\r\n      const labels = {\r\n        thinking: '思考',\r\n        comment: '评论',\r\n        summary: '总结',\r\n        question: '提问'\r\n      }\r\n      return labels[type]\r\n    },\r\n\r\n    togglePanel() {\r\n      this.isOpen = !this.isOpen\r\n    },\r\n\r\n    async saveNoteChange(){\r\n      this.savedNotes = await saveNote(this.url_id, this.savedNotes);\r\n      this.savedNotes.sort((a,b)=>a.show_order - b.show_order)\r\n\r\n    },\r\n    async saveNote() {\r\n      console.log(\"保存笔记！\");\r\n      // 如果是编辑模式\r\n      if (this.editingIndex !== -1) {\r\n        this.savedNotes[this.editingIndex].content = this.currentNote.content;\r\n        this.savedNotes[this.editingIndex].quote = this.currentNote.quote;\r\n        this.editingIndex = -1\r\n      }\r\n\r\n      // 如果是新建模式\r\n      else if (this.currentNote.content.trim()) {\r\n        this.savedNotes.push({\r\n          type: this.currentNoteType,\r\n          content: this.currentNote.content,\r\n          quote: this.currentNote.quote\r\n        })\r\n      }\r\n      // console.log(this.savedNotes,);\r\n      await this.saveNoteChange();\r\n      // 重置当前笔记\r\n      this.currentNote.content = ''\r\n      this.currentNote.quote = ''\r\n    },\r\n\r\n    editNote(index) {\r\n      const note = this.savedNotes[index]\r\n      this.currentNoteType = note.type\r\n      this.currentNote.content = note.content\r\n      this.currentNote.quote = note.quote\r\n      this.editingIndex = index\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.editingIndex = -1\r\n      this.currentNote.content = ''\r\n      this.currentNote.quote = ''\r\n    },\r\n\r\n    async removeNote(index) {\r\n      this.savedNotes.splice(index, 1);\r\n      await this.saveNoteChange();\r\n    },\r\n\r\n    async moveNoteUp(index) {\r\n      if (index > 0) {\r\n        const temp = this.savedNotes[index]\r\n        this.savedNotes.splice(index, 1)\r\n        this.savedNotes.splice(index - 1, 0, temp)\r\n        await this.saveNoteChange();\r\n      }\r\n    },\r\n\r\n    async moveNoteDown(index) {\r\n      if (index < this.savedNotes.length - 1) {\r\n        const temp = this.savedNotes[index]\r\n        this.savedNotes.splice(index, 1)\r\n        this.savedNotes.splice(index + 1, 0, temp)\r\n        await this.saveNoteChange();\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4708ce8c\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {GetGMRequest, baseURL} from \"./fetchGMRequest.js\"\r\n\r\nexport async function getURLId(url){\r\n  console.log(\"in get urlid\",url)\r\n  const gmXmlHttpRequest = await GetGMRequest();\r\n  return gmXmlHttpRequest({\r\n    method: \"POST\",\r\n    url: `${baseURL}/url`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data:JSON.stringify({\r\n      url\r\n    }),\r\n  })\r\n}","<template>\n  <div class=\"fixed bottom-4 right-4 z-50 max-w-sm\">\n    <FloatingButton @click=\"togglePanel\"/>\n    <div\n        v-show=\"isOpen\"\n        class=\"mt-2 bg-white rounded-lg shadow-xl border p-4 space-y-4 min-w-96\"\n        style=\"max-height: 80vh; overflow-y: auto;\"\n    >\n      <label class=\"text-xl font-bold text-gray-800 flex items-center\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"mr-2\">\n          <path d=\"M12 20h9\"></path>\n          <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\n        </svg>\n        网页注解工具\n      </label>\n      <Theme\n          @update:themes=\"updateSelectedThemes\"\n          :url_id=\"url.id\"\n      />\n      <Keyword\n          @update:keywords=\"updateSelectedKeywords\"\n          :url_id=\"url.id\"\n      />\n      <Note\n          :url_id=\"url.id\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FloatingButton from './FloatingButton/index.vue'\nimport Theme from './Theme/index.vue'\nimport Keyword from './Keyword/index.vue'\nimport Note from './Note/index.vue'\nimport {getURLId} from \"@/services/url\";\nimport {updateSelectedKeywords} from '@/services/urlKeyword.js'\nimport {updateSelectedThemes} from \"@/services/urlTheme\";\n// import {testGetApi} from '../services/api'\n// import axios from \"axios\"\nexport default {\n  name: 'Web-Helper',\n  components:{\n    FloatingButton,\n    Theme,\n    Keyword,\n    Note\n  },\n  data() {\n    return {\n      isOpen: true,\n      url: {},\n      theme: '',\n      keywords: '',\n      currentNoteType: 'thinking',\n      noteTypes: ['thinking', 'comment', 'summary', 'question'],\n      notes: {\n        thinking: '',\n        comment: '',\n        summary: '',\n        question: ''\n      },\n      savedNotes: []\n\n    };\n  },\n  async created() {\n    // setInterval(()=>console.log(\"in main web, gmXmlHttpRequest:\", request.gmXmlHttpRequest), 1000)\n    // const itimer = setInterval(()=>{\n    //   if(!request){\n    //     return;\n    //   }\n    //       console.log(\"in main web gmXmlHttpRequest\", request.gmXmlHttpRequest)\n    //       if(request.gmXmlHttpRequest){\n    //         clearInterval(itimer)\n    //       }},\n    //     1000)\n    // const result = await testGetApi();\n    // console.log(\"in main web, result:\", result)\n    // result;\n    this.init();\n  },\n  methods: {\n    async init(){\n      this.url = await getURLId(window.location.href);\n      console.log(\"url:\",this.url);\n\n    },\n    async updateSelectedKeywords(keywords){\n      // console.log(\"in father\", keywords);\n      await updateSelectedKeywords(this.url, keywords)\n    },\n    async updateSelectedThemes(keywords){\n      // console.log(\"in father\", keywords);\n      await updateSelectedThemes(this.url, keywords)\n    },\n\n    async togglePanel() {\n      console.log(\"click!\",);\n      // const data = await axios.get(\"https://www.baidu.com/\")\n      // console.log(data)\n      this.isOpen = !this.isOpen;\n    },\n    closePanel() {\n      this.isOpen = false;\n    },\n  }\n}\n</script>\n\n<style>\n/* You can add additional custom styles here */\n.saved-notes{\n  max-height: 300px;\n  overflow-y: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./Web-Helper.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./Web-Helper.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Web-Helper.vue?vue&type=template&id=a7f48b78\"\nimport script from \"./Web-Helper.vue?vue&type=script&lang=js\"\nexport * from \"./Web-Helper.vue?vue&type=script&lang=js\"\nimport style0 from \"./Web-Helper.vue?vue&type=style&index=0&id=a7f48b78&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n<!--    <img alt=\"Vue logo\" src=\"./assets/logo.png\">-->\n\n    <WebHelper ref=\"WebH\"/>\n\n<!--    <div class=\"bg-blue-500 text-white p-8\">-->\n<!--      <h1 class=\"text-4xl font-bold\">Hello, Tailwind CSS in Vue!</h1>-->\n<!--    </div>-->\n  </div>\n</template>\n\n<script>\n// import WebHelper from './components/Note'\nimport WebHelper from './components/Web-Helper.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    WebHelper\n  },\n  mounted() {\n    console.log(this.$refs.WebH);  // 此时应该能正确打印出引用\n    console.log(this)\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=527bfa5d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__ib2xulq62vyeesmyn6kdmdlhmu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport './assets/tailwind.css';\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbrowser_demo\"] = self[\"webpackChunkbrowser_demo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(62); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","ref","staticRenderFns","staticClass","on","togglePanel","directives","name","rawName","value","isOpen","expression","staticStyle","_v","url","id","updateSelectedThemes","updateSelectedKeywords","handleClick","methods","$emit","component","_s","label","_l","themes","theme","index","key","$event","removeTheme","inputValue","domProps","onfocus","target","composing","onInput","onBlur","type","indexOf","_k","keyCode","preventDefault","addTheme","apply","arguments","handleDeleteKey","showSuggestions","suggestions","suggestion","selectSuggestion","_e","timer","setInterval","findGM_HTTPRequest","shouldReject","request","GetGMRequest","Promise","resolve","reject","Error","gmXmlHttpRequest","Window","clearInterval","baseURL","clearTimeout","async","console","log","method","headers","data","JSON","stringify","getAllThemes","initThemes","props","String","default","debounceTime","Number","url_id","required","watch","handler","newVal","init","immediate","allthemes","debounceTimer","created","updateAllThemes","trimmedValue","trim","matchedTheme","find","some","k","push","res","splice","length","pop","setTimeout","fetchSuggestions","query","filter","includes","error","$refs","ThemeInput","focus","keywords","keyword","removeKeyword","addKeyword","getAllKeywords","initKeywords","allkeywords","updateAllKeywords","getKeywordsTimer","matchedKeyword","keywordInput","noteTypes","class","currentNoteType","getNoteTypeLabel","currentNote","content","$set","quote","saveNote","editingIndex","cancelEdit","savedNotes","note","editNote","removeNote","moveNoteUp","moveNoteDown","notes","getNotes","sort","a","b","show_order","labels","thinking","comment","summary","question","saveNoteChange","temp","getURLId","components","FloatingButton","Theme","Keyword","Note","window","location","href","closePanel","WebHelper","mounted","WebH","Vue","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}